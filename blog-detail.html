<!DOCTYPE html>
<html class="wide wow-animation" lang="en">

<head>
    <title>Blog Detail – Leti Camping in Kumaon | Tent in Himalaya</title>
    <meta name="description" content="Read our detailed blog posts about camping, trekking, and exploring the beautiful Himalayas with Tent'in Himalayas.">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.tentinhimalayas.com/blog-detail.html">

    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <!-- Stylesheets-->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Montserrat:400,500,600,700%7CPoppins:400%7CTeko:300,400">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .ie-panel {
            display: none;
            background: #212121;
            padding: 10px 0;
            box-shadow: 3px 3px 5px 0 rgba(0, 0, 0, .3);
            clear: both;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        html.ie-10 .ie-panel,
        html.lt-ie-10 .ie-panel {
            display: block;
        }
        /* Enhanced animations and transitions */
        
        .animated-element {
            transition: all 0.3s ease-in-out;
        }
        
        .fade-in-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .fade-in-element.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .slide-in-element {
            opacity: 0;
            transform: translateX(-30px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        
        .slide-in-element.visible {
            opacity: 1;
            transform: translateX(0);
        }
        
        .scale-element {
            transition: transform 0.3s ease-in-out;
        }
        
        .scale-element:hover {
            transform: scale(1.05);
        }
        /* Modern Blog Detail Styles */
        
        .blog-detail-header {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .blog-detail-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }
        
        .blog-detail-meta {
            color: #6c757d;
            font-size: 1rem;
            margin-bottom: 20px;
        }
        /* Gallery Styles */
        
        .blog-gallery-container {
            margin-bottom: 30px;
            position: relative;
        }
        
        .blog-gallery-main {
            position: relative;
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
        }
        
        .blog-gallery-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .blog-gallery-thumbnails {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 5px;
        }
        
        .gallery-thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .gallery-thumbnail:hover,
        .gallery-thumbnail.active {
            border-color: #01b3a7;
            transform: scale(1.05);
        }
        
        .blog-gallery-navigation {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            pointer-events: none;
        }
        
        .gallery-nav-btn {
            background: rgba(255, 255, 255, 0.8);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            pointer-events: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .gallery-nav-btn:hover {
            background: #01b3a7;
            color: white;
        }
        /* Content Styles */
        
        .blog-detail-content {
            font-size: 1rem;
            line-height: 1.8;
            color: #333;
            margin-bottom: 30px;
        }
        
        .blog-detail-content p {
            margin-bottom: 20px;
        }
        
        .blog-detail-content h2 {
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.8rem;
            color: #333;
        }
        
        .blog-detail-content h3 {
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.5rem;
            color: #333;
        }
        
        .blog-detail-content ul,
        .blog-detail-content ol {
            margin-bottom: 20px;
            padding-left: 20px;
        }
        
        .blog-detail-content li {
            margin-bottom: 10px;
        }
        /* Blog Tags */
        
        .blog-tag {
            display: inline-block;
            background: #e9f7f6;
            color: #01b3a7;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        .blog-detail-tags {
            margin: 30px 0;
            padding: 20px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .blog-detail-tags h4 {
            margin-bottom: 15px;
            color: #333;
        }
        /* YouTube Video Section */
        
        .blog-youtube-video {
            margin: 30px 0;
            padding: 20px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .blog-youtube-video h4 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .youtube-video-container {
            position: relative;
            padding-bottom: 56.25%;
            /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            border-radius: 10px;
        }
        
        .youtube-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        /* Social Share */
        
        .social-share {
            margin: 40px 0;
            padding: 20px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .social-share h4 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
        }
        
        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: transform 0.3s ease;
        }
        
        .social-icon:hover {
            transform: translateY(-3px);
        }
        
        .facebook {
            background-color: #3b5998;
        }
        
        .twitter {
            background-color: #1da1f2;
        }
        
        .whatsapp {
            background-color: #25d366;
        }
        /* Back to Blog */
        
        .back-to-blog {
            margin-top: 30px;
        }
        
        .back-to-blog a {
            color: #01b3a7;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
        }
        
        .back-to-blog a:hover {
            text-decoration: underline;
        }
        
        .back-to-blog a::before {
            content: "←";
            margin-right: 8px;
        }
        /* Error Message */
        
        .error-message {
            color: #e74c3c;
            font-weight: 500;
            text-align: center;
        }
        /* Responsive */
        
        @media (max-width: 768px) {
            .blog-detail-title {
                font-size: 2rem;
            }
            .blog-gallery-main {
                height: 300px;
            }
            .gallery-thumbnail {
                width: 60px;
                height: 60px;
            }
        }
        
        @media (max-width: 576px) {
            .blog-detail-title {
                font-size: 1.8rem;
            }
            .blog-gallery-main {
                height: 250px;
            }
            .social-icons {
                flex-wrap: wrap;
            }
        }
    </style>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7966070414985050" crossorigin="anonymous"></script>
</head>

<body>
    <div class="ie-panel">
        <a href="https://windows.microsoft.com/en-US/internet-explorer/"><img src="images/ie8-panel/warning_bar_0000_us.jpg" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." loading="lazy"></a>
    </div>
    <div class="preloader">
        <div class="preloader-body">
            <div class="cssload-container">
                <div class="cssload-speeding-wheel"></div>
            </div>
            <p>Loading...</p>
        </div>
    </div>
    <div class="page">
        <header class="section page-header">
            <!-- RD Navbar-->
            <div class="rd-navbar-wrap">
                <nav class="rd-navbar rd-navbar-corporate" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed" data-md-layout="rd-navbar-fixed" data-md-device-layout="rd-navbar-fixed" data-lg-layout="rd-navbar-static" data-lg-device-layout="rd-navbar-fixed"
                    data-xl-layout="rd-navbar-static" data-xl-device-layout="rd-navbar-static" data-xxl-layout="rd-navbar-static" data-xxl-device-layout="rd-navbar-static" data-lg-stick-up-offset="46px" data-xl-stick-up-offset="46px" data-xxl-stick-up-offset="106px"
                    data-lg-stick-up="true" data-xl-stick-up="true" data-xxl-stick-up="true">
                    <div class="rd-navbar-collapse-toggle rd-navbar-fixed-element-1" data-rd-navbar-toggle=".rd-navbar-collapse"><span></span></div>
                    <div class="rd-navbar-aside-outer">
                        <div class="rd-navbar-aside">
                            <!-- RD Navbar Panel-->
                            <div class="rd-navbar-panel">
                                <!-- RD Navbar Toggle-->
                                <button class="rd-navbar-toggle" data-rd-navbar-toggle=".rd-navbar-nav-wrap"><span></span></button>
                                <!-- RD Navbar Brand-->
                                <div class="rd-navbar-brand">
                                    <!--Brand-->
                                    <a class="brand" href="index.html"><img src="images/logo/logo-horizontal-2.png" alt="" width="225" height="18" loading="lazy" /></a>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="rd-navbar-main-outer">
                        <div class="rd-navbar-main">
                            <div class="rd-navbar-nav-wrap">
                                <ul class="list-inline list-inline-md rd-navbar-corporate-list-social">
                                    <li>
                                        <a class="icon fa fa-facebook" href="https://www.facebook.com/tentinhimalayas/" target="_blank"></a>
                                    </li>
                                    <li>
                                        <a class="icon fa fa-twitter" href="#"></a>
                                    </li>

                                    <li>
                                        <a class="icon fa fa-instagram" href="https://instagram.com/tentinhimalayas?igshid=YmMyMTA2M2Y=" target="_blank"></a>
                                    </li>
                                </ul>
                                <!-- RD Navbar Nav-->
                                <ul class="rd-navbar-nav">
                                    <li class="rd-nav-item"><a class="rd-nav-link" href="index.html">Home</a>
                                    </li>
                                    <li class="rd-nav-item"><a class="rd-nav-link" href="about.html">About</a>
                                    </li>

                                    <li class="rd-nav-item"><a class="rd-nav-link" href="contact-us.html">Contact Us</a>
                                    </li>
                                    <li class="rd-nav-item"><a class="rd-nav-link" href="terms-optimized.html">Term and Conditions</a>
                                    </li>
                                    <li class="rd-nav-item"><a class="rd-nav-link" href="blog.html">Blog</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <!-- Breadcrumbs -->
        <section class="breadcrumbs-custom-inset">
            <div class="breadcrumbs-custom context-dark bg-overlay-60">
                <div class="container">
                    <h2 class="breadcrumbs-custom-title">Blog Detail</h2>
                    <ul class="breadcrumbs-custom-path">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="blog.html">Blog</a></li>
                        <li class="active">Blog Detail</li>
                    </ul>
                </div>
                <div class="box-position" style="background-image: url(images/slider-images/slider-1.webp);"></div>
            </div>
        </section>

        <!-- Blog Detail Section -->
        <section class="section section-sm section-first bg-default text-md-left">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <article id="blog-detail-container">
                            <!-- Blog detail will be loaded here dynamically -->
                            <div class="text-center">
                                <p>Loading blog post...</p>
                            </div>
                        </article>

                        <div class="back-to-blog">
                            <a href="blog.html">Back to Blog</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="common-footer"></div>

    </div>

    <!-- Global Mailform Output-->
    <div class="snackbars" id="form-output-global"></div>
    <!-- Javascript-->
    <!-- Use production version of Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.14.0/firebase.js"></script>
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/fooder-loader.js"></script>
    <script src="src/firebase/config.js"></script>
    <!-- Load blog detail data from Firebase -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load blog detail data from Firebase
            loadBlogDetailData();
        });

        async function loadBlogDetailData() {
            const blogContainer = document.getElementById('blog-detail-container');
            if (!blogContainer) return;

            try {
                // Show loading state
                blogContainer.innerHTML = '<div class="text-center"><p>Loading blog post...</p></div>';

                // Get blog ID from URL
                const urlParams = new URLSearchParams(window.location.search);
                const blogId = urlParams.get('id');

                if (!blogId) {
                    blogContainer.innerHTML = '<div class="text-center"><p class="error-message">Blog post not found.</p></div>';
                    return;
                }

                // Check if Firebase is available
                if (typeof firebase === 'undefined' || !firebase.apps.length) {
                    throw new Error('Firebase not initialized');
                }

                // Initialize Firestore if not already done
                const db = firebase.firestore();

                // Fetch the specific blog post from Firestore
                const doc = await db.collection('blogs').doc(blogId).get();

                if (!doc.exists) {
                    blogContainer.innerHTML = '<div class="text-center"><p class="error-message">Blog post not found.</p></div>';
                    return;
                }

                const data = doc.data();
                const blog = {
                    id: doc.id,
                    title: data.title || '',
                    excerpt: data.excerpt || '',
                    description: data.description || '',
                    tags: data.tags || [],
                    images: data.images || [],
                    youtubeVideoId: extractYouTubeId(data.youtubeVideoId) || '',
                    createdAt: data.createdAt ? data.createdAt.toDate() : new Date()
                };

                // Display blog
                displayBlogDetail(blog, blogContainer);
            } catch (error) {
                console.error('Error loading blog data:', error);
                blogContainer.innerHTML = '<div class="text-center"><p class="error-message">Failed to load blog content. Please try again later.</p></div>';
            }
        }

        function extractYouTubeId(urlOrId) {
            if (!urlOrId) return '';

            // If it's already an ID (not a URL), return it as is
            if (!urlOrId.includes('http')) {
                return urlOrId;
            }

            // Extract ID from various YouTube URL formats
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = urlOrId.match(regExp);
            return (match && match[2].length === 11) ? match[2] : '';
        }

        function displayBlogDetail(blog, container) {
            // Format date
            const formattedDate = blog.createdAt.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            // Generate YouTube video HTML if video ID exists
            let youtubeVideoHTML = '';
            if (blog.youtubeVideoId) {
                youtubeVideoHTML = `
                <div class="blog-youtube-video">
                    <h4>Watch Video</h4>
                    <div class="youtube-video-container">
                        <iframe src="https://www.youtube.com/embed/${blog.youtubeVideoId}" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen></iframe>
                    </div>
                </div>
                `;
            }

            const html = `
                <div class="blog-detail-header">
                    <h1 class="blog-detail-title">${blog.title}</h1>
                    <div class="blog-detail-meta">
                        Published on ${formattedDate}
                    </div>
                </div>
                
                <div class="blog-gallery-container">
                    ${renderGallery(blog.images)}
                </div>
                
                ${youtubeVideoHTML}
                
                <div class="blog-detail-content">
                    ${blog.description}
                </div>
                
                <div class="blog-detail-tags">
                    <h4>Tags:</h4>
                    <div>
                        ${blog.tags && blog.tags.length > 0 ? blog.tags.map(tag => `<span class="blog-tag">${tag}</span>`).join('') : ''}
                    </div>
                </div>
                
                <div class="social-share">
                    <h4>Share this post:</h4>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}" target="_blank" class="social-icon facebook">
                            <i class="fa fa-facebook"></i>
                        </a>
                        <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(blog.title)}" target="_blank" class="social-icon twitter">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="https://wa.me/?text=${encodeURIComponent(window.location.href)}" target="_blank" class="social-icon whatsapp">
                            <i class="fa fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            `;

            container.innerHTML = html;

            // Initialize gallery functionality
            initGallery();
        }

        function renderGallery(images) {
            if (!images || images.length === 0) {
                return '<p>No images available</p>';
            }

            // Main image display
            let galleryHTML = `
                <div class="blog-gallery-main">
                    <img src="${images[0]}" alt="Blog image" id="main-gallery-image" loading="lazy">
                </div>
                <div class="blog-gallery-thumbnails">
            `;

            // Thumbnails
            images.forEach((image, index) => {
                const activeClass = index === 0 ? 'active' : '';
                galleryHTML += `
                    <img src="${image}" alt="Blog image ${index + 1}" class="gallery-thumbnail ${activeClass}" data-src="${image}" loading="lazy">
                `;
            });

            galleryHTML += `
                </div>
                <div class="blog-gallery-navigation">
                    <button class="gallery-nav-btn prev-btn" id="prev-btn">‹</button>
                    <button class="gallery-nav-btn next-btn" id="next-btn">›</button>
                </div>
            `;

            return galleryHTML;
        }

        function initGallery() {
            // Get all thumbnails
            const thumbnails = document.querySelectorAll('.gallery-thumbnail');
            const mainImage = document.getElementById('main-gallery-image');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            if (!mainImage || !prevBtn || !nextBtn) return;

            // Current image index
            let currentIndex = 0;

            // Change main image when thumbnail is clicked
            thumbnails.forEach((thumbnail, index) => {
                thumbnail.addEventListener('click', () => {
                    // Update main image
                    mainImage.src = thumbnail.dataset.src;

                    // Update active class
                    document.querySelector('.gallery-thumbnail.active').classList.remove('active');
                    thumbnail.classList.add('active');

                    // Update current index
                    currentIndex = index;
                });
            });

            // Previous button
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + thumbnails.length) % thumbnails.length;
                const newSrc = thumbnails[currentIndex].dataset.src;
                mainImage.src = newSrc;

                // Update active class
                document.querySelector('.gallery-thumbnail.active').classList.remove('active');
                thumbnails[currentIndex].classList.add('active');
            });

            // Next button
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % thumbnails.length;
                const newSrc = thumbnails[currentIndex].dataset.src;
                mainImage.src = newSrc;

                // Update active class
                document.querySelector('.gallery-thumbnail.active').classList.remove('active');
                thumbnails[currentIndex].classList.add('active');
            });
        }
    </script>
</body>

</html>